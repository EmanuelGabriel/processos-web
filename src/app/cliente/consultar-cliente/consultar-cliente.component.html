<ngx-spinner bdColor="rgba(0,0,0,0.7)" size="medium" color="#fff" type="ball-clip-rotate-multiple" [fullScreen]="true">
    <p style="color: white">
        Carregando
    </p>
</ngx-spinner>


<div class="container">
    <!-- Content here -->

    <h2 style="text-align:left; width:100%; padding:0;margin-top: 25px; margin-bottom: 20px;">Pesquisar Cliente</h2>

    <div style="text-align:right; width:100%; padding:0;margin-top: 25px; margin-bottom: 20px;">
        <button type="button" class="btn btn-success" routerLink="/clientes/novo">Novo</button>
    </div>

    <div fxLayout="row wrap" fxLayoutAlign="start">

        <div class="input-group mb-3">
            <input type="text" [(ngModel)]="value" class="form-control"
                placeholder="Pesquise por nome, email, cpf, celular..." (keyup)="filtro()">
            <div class="input-group-append">
                <button type="button" class="btn btn-outline-secondary" (click)="filtro()">Pesquisar</button>
            </div>
        </div>

    </div>

    <!-- class="mat-elevation-z6" -->
    <table mat-table [dataSource]="dataSource" fxFlex="100" style="table-layout: fixed;">

        <!-- Position Column PROTOCOLO -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>Cód</th>
            <td mat-cell *matCellDef="let cliente"> {{ cliente.id }} </td>
        </ng-container>

        <!-- Position Column PROTOCOLO -->
        <ng-container matColumnDef="nome">
            <th mat-header-cell *matHeaderCellDef>Nome</th>
            <td mat-cell *matCellDef="let cliente"> {{ cliente.nome }} </td>
        </ng-container>

        <!-- Position Column PROTOCOLO -->
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>E-mail</th>
            <td mat-cell *matCellDef="let cliente"> {{ cliente.email }} </td>
        </ng-container>

        <!-- Position Column PROTOCOLO -->
        <ng-container matColumnDef="cpf">
            <th mat-header-cell *matHeaderCellDef>CPF</th>
            <td mat-cell *matCellDef="let cliente"> {{ cliente.cpf | cpfPipe }} </td>
        </ng-container>

        <!-- Position Column PROTOCOLO -->
        <ng-container matColumnDef="contato">
            <th mat-header-cell *matHeaderCellDef>Celular</th>
            <td mat-cell *matCellDef="let cliente"> {{ cliente.celular }} </td>
        </ng-container>

        <!-- Position Column PROTOCOLO -->
        <ng-container matColumnDef="data_cadastro">
            <th mat-header-cell *matHeaderCellDef>Data/Cadastro</th>
            <td mat-cell *matCellDef="let cliente"> {{ cliente.dataCadastro | date:"dd/MM/yyyy" }} </td>
        </ng-container>

        <!-- BOTÕES DE AÇÕES -->
        <ng-container matColumnDef="acoes">
            <th [style.padding-left]="'1.5em'" mat-header-cell *matHeaderCellDef>Ações</th>
            <td mat-cell *matCellDef="let triagem">
                <div [style.width]="'30%'" fxLayout="row" fxLayoutAlign="center center">
                    <a mat-button>
                        <i class="fa fa-search" matTooltip="Detalhar Cliente">
                        </i>
                    </a>
                    <a mat-button>
                        <i class="fa fa-tasks" matTooltip="Analisar Documento">
                        </i>
                    </a>
                </div>
            </td>
        </ng-container>


        <!-- NENHUM REGISTRO ENCONTRADO -->
        <ng-container matColumnDef="noData">
            <td mat-footer-cell *matFooterCellDef [attr.colspan]="3" [style.text-align]="'left'">
                {{TextoNaoHaRegistro}}
            </td>
        </ng-container>

        <!-- DETALHES DAS COLUNAS -->
        <tr mat-header-row *matHeaderRowDef="colunas"></tr>
        <tr mat-row *matRowDef="let row; columns: colunas;"></tr>
        <tr mat-footer-row *matFooterRowDef="['noData']"
            [ngClass]="{'hide':!(dataSource != null && dataSource.data.length == 0)}"></tr>

    </table>

    <!-- dados de paginação -->
    <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>


</div>